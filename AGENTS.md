このドキュメントは、本プロジェクトのコード生成・設計支援を行う AI エージェント向けのガイドラインです。  
エージェントはここに記載された方針・制約に従って、コード・設計・ドキュメントを提案してください。

***

## 1. プロジェクト概要

- アプリ名（仮称）: Mind-Digger (変更可)
- 目的:
  - ユーザーの悩み・企画・検討事項を、マインドマップ風のノードと LLM による対話で整理・深掘りする。
- 特徴:
  - 1 ノード = 1 メッセージ（またはメモ）。
  - 回答から topic ノードを自動生成。
  - note ノードで決定事項を明示。
  - 右ペインで全体・局所サマリーを表示。

***

## 2. 技術スタックと前提

エージェントがコードを提案するときは、以下を前提とすること。

- デスクトップアプリ:
  - Electron
- フロントエンド:
  - React（TypeScript）
  - ノードベース UI: `@xyflow/react`（React Flow v11+）
  - 状態管理: Zustand
- ビルド / パッケージ:
  - Vite（electron-vite）
- LLM 接続:
  - OpenAI / Anthropic / Google / Local 等。
  - 「プロバイダ抽象レイヤ」を設け、具体的な API クライアント実装は後から入れ替えられるようにする。
  - 初期実装は OpenAI から開始。

***

## 3. アプリケーション仕様/データモデル

README.mdを参照してください。
README.mdの記載は新しい実装をしたら適宜修正してください。

***

## 4. コード生成時のスタイルガイド

- 言語: TypeScript（型定義を明示すること）。
- コメント:
  - 関数には必ずJSDocコメントで説明を加える
  - ロジックが仕様のどの部分に対応しているかを短くコメントしてよい。
  - 過度な説明コメントは不要。
- 命名規則
  - キャメルケースを使用

***

## 5. 人間とのコラボレーション方針

- エージェントは「決めつけ」ではなく「候補」を提示する。
  - 例: 状態管理ライブラリが未決定の場合、「Zustand でこう書ける」「Redux でこう書ける」のように複数案を出す。
- 仕様と矛盾しそうな提案をしたい場合:
  - 必ず「仕様と異なる可能性がある提案です」とコメントを添えて理由を説明する。
- ユーザーの意図が曖昧な場合:
  - コードを書く前に、前提条件や期待する挙動を質問するテキストを優先して生成する。
